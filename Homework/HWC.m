capacitance = 1e-06; % Set capacitance value (farads)resistance = 100; % Set resistance value (ohms)Vo = 5; % Set battery voltage value (volts)Vprev = Vo; % "Previous-step" value trackerV1 = Vo; % Swap variable used for switch position 2 (discharging)V2 = V1; % Swap variable used for switch position 1 (charging)iteration = 1; % Used to keep track of iterationsdt = 1e-05; % Set the time-step value for calculationsvoltages = [Vo]; % Stores voltage values for later plottingtimes = [0]; % Stores time values for later plottingseparation = .001; % Plate separationdischargePercent = .25; % Used to set the period as dependent on initial charge percent%T = -resistance * capacitance * log(dischargePercent); % Define period of switch oscillation%T = 20e-06; % Small period casetime = dt; % Begin the time based on dtwhile iteration < 100 % Define iteration quantity  if (mod(((time - mod(time,T)) / T), 2) == 0) % Define when to flip switch (every time t exceeds period T)    % This block is discharging    Vprev = V1 * exp(-(time - (time - mod(time,T)))/(resistance * capacitance)); % Calculate instantaneous V    V2 = Vprev; % Swap variable when flipping switch  else    % This block is charging    Vprev = 5 - (5 - V2)*exp(-(time - (time - mod(time,T)))/(resistance * capacitance)); % Calculate instantaneous V
    V1 = Vprev; % Swap variable when flipping switch  end  voltages = [voltages, Vprev]; % Add values to voltage matrix  times = [times, time]; % Add time increments  iteration = iteration + 1; % Increase iteration count  time = iteration * dt; % Take another time step  T = 9e-04 * rand() + 20e-06endwhile% Plot mechanics included belowsubplot(2,2,1);plot(times * 1000, voltages);title("Voltage vs. Time");xlabel("Time (ms)");ylabel("Voltage (V)");subplot(2,2,2);plot(times * 1000, voltages / separation, 'y');title("Electric Field vs. Time");xlabel("Time (ms)");ylabel("Field (V/m)");subplot(2,2,3);plot(times * 1000, voltages * capacitance, 'r');title("Charge vs. Time");xlabel("Time (ms)");ylabel('Charge (C)');subplot(2,2,4);plot(times * 1000, ((voltages .* voltages * capacitance) / (2 * separation)), 'g');title("Force vs. Time");xlabel("Time (ms)");ylabel('Force (N)');